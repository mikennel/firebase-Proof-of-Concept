<template>
    <div>
        <div @click="openListModal" id="createListItemBtn">
            <a> <span class="btn-floating btn-large waves-effect waves-light"><i class="material-icons">add</i></span> Add Something To Do</a>
        </div>
        <div id="addToDoModal-starter">
            <div id="addToDoModal-darkBack" class="hidden">
                <div id="addToDoModal-container">
                    <div class="modalBlock header">
                        <h4>Create a To Do Item</h4>
                        <a id="closeModalBtn"><span @click="closeListModal" class="btn-floating btn-large waves-effect waves-light"><i class="material-icons">close</i></span></a>
                    </div>
                    <div class="modalBlock form">
                        <div class="input-field">
                            <input id="add-Title" type="text">
                            <label for="add-Title">Title</label>
                        </div>
                        <div class="input-field">
                            <input type="date" class="datepicker" id="add-Date">
                        </div>
                        <div class="input-field categoryGroups">
                            <p class="areaTitle">Categories</p>
                            <p><input type="checkbox" class="add-cat" id="catA" /><label for="catA">Category A</label></p>
                            <p><input type="checkbox" class="add-cat" id="catB" /><label for="catB">Category B</label></p>
                            <p><input type="checkbox" class="add-cat" id="catC" /><label for="catC">Category C</label></p>
                            <p><input type="checkbox" class="add-cat" id="catD" /><label for="catD">Category D</label></p>
                        </div>
                        <div class="input-field">
                            <textarea id="add-Desc" class="materialize-textarea"></textarea>
                            <label for="add-Desc">Description</label>
                        </div>
                    </div>
                    <div class="modalBlock footer">
                        <button @click="submitToDo" class="waves-effect waves-light btn">Create</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    export default {
        name: "createListItem",
        methods: {
            openListModal: function(){
                $("#addToDoModal-darkBack").removeClass("hidden");
            },
            closeListModal: function(){
                $("#addToDoModal-darkBack").addClass("hidden");
            },
            submitToDo: function(){
                console.debug("clicked!");
            }
        }
    };

    // $('.datepicker').pickadate({
    //     selectMonths: true, // Creates a dropdown to control month
    //     selectYears: 6 // Creates a dropdown of 6 years to control year
    // });

</script>

<style scope>
    #createListItemBtn {
        height: auto;
        width: fit-content;
        margin: 0 auto 1em auto;
        cursor: pointer;
    }

    #addToDoModal-darkBack{
        position: fixed;
        left: 0;
        top: 0;
        width: 100vw;
        height: 100vh;
        z-index: 100;
        padding: 5vh 5vw;
        background-color: rgba(0, 0, 0, 0.5);
        transition: .5s;
    }

    #addToDoModal-container{
        background-color: white;
        width: 100%;
        min-width: 430px;
        height: 100%;
        margin: auto;
        display: grid;
        grid-template-rows: 10% 80% 10%;
    }

    .modalBlock.form{
        padding: 0 4em 0 4em;
    }

    .modalBlock.header {
        display: grid;
        grid-template-columns: 85% 15%;
    }

    .modalBlock.form{
        overflow-y: scroll;
    }

    #closeModalBtn{
        margin: 1em 1em 0 0;
    }

    .categoryGroups{
        display: grid;
        grid-template-columns: 50% 50%;
    }

    .categoryGroups > p {
        margin: .5em 0;
        font-size: 1.5em;
    }

    .areaTitle{
        grid-column: 1/3;
    }
    
    /* materialize checkboxes not working so reverting to normal */
    [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        opacity: 100;
        position: relative;
        pointer-events: initial;
    }

    .hidden{
        margin-top: 100vh;
        background: transparent;
        transition: .5s;
    }
</style>