<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>Firebase Proof of Concept</title>
    <meta name="description" content="A simple proof of concept for using Firebase and Vue.js have unique user log ins managing their own content" />
    <meta name="keywords" content="firebase, vue" />
    <meta name="robots" content="index,follow" />

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- materialize.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  </head>
  <body>
    <noscript>
      <strong>We're sorry but firebase-proof-of-concept doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <div id="app"></div>
    <!-- built files will be auto injected -->

    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <!-- materialize.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!-- firebase cdn -->
    <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
    <script>
      
      firebase.initializeApp({
        apiKey: "AIzaSyBI8i77wNk29SoIBujv0goC9FKq5cY6wnc",
        authDomain: "fir-proof-of-concept-a6fc1.firebaseapp.com",
        databaseURL: "https://fir-proof-of-concept-a6fc1.firebaseio.com",
        projectId: "fir-proof-of-concept-a6fc1",
        storageBucket: "fir-proof-of-concept-a6fc1.appspot.com",
        messagingSenderId: "768522867112"
      });

      function showHideDescription(clickedDiv){
          //   var clickedSection = e.target;
          console.debug($(clickedDiv));
          var arrow = $($(clickedDiv).children(".showHideArrow"));
          var descBlock = $($(clickedDiv).siblings(".toDo-description"));
          if (arrow.hasClass("down")){
              arrow.removeClass("down");
              arrow.addClass("up");
              descBlock.removeClass("squished");
          } else {
              arrow.removeClass("up");
              arrow.addClass("down");
              descBlock.addClass("squished");
          }
      }

      function deleteListItem(clickedItem){
          var idToDelete = $(clickedItem).attr("data-id");
          var userId = firebase.auth().currentUser.uid;
          firebase.database().ref(`/users/`).child(userId).child("toDoList").child(idToDelete).remove(function(){location.reload()});
      }
    </script>
  </body>
</html>
